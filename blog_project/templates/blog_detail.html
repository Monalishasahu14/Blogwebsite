{% extends 'base.html' %}

{% block content %}
<article>
    <div class="detail-header text-center">
        {% if blog.category %}
        <span
            style="background: var(--accent); color: #fff; padding: 0.2rem 0.8rem; border-radius: 20px; font-size: 0.9rem; text-transform: uppercase; font-weight: bold;">{{
            blog.get_category_display }}</span>
        {% endif %}
        <h1 class="detail-title" style="margin-top: 1rem;">{{ blog.title }}</h1>
        <div
            style="color: var(--text-secondary); margin-top: 1rem; display: flex; justify-content: center; gap: 20px; align-items: center;">
            <div class="author-info">
                {% if blog.author.userprofile.profile_picture %}
                <img src="{{ blog.author.userprofile.profile_picture.url }}" class="author-avatar-small"
                    style="width: 30px; height: 30px;">
                {% endif %}
                <span>{{ blog.author.username }}</span>
            </div>
            <span>&bull;</span>
            <span>{{ blog.created_at|date:"F d, Y" }}</span>
            <span>&bull;</span>
            <span>{{ blog.view_count }} Views</span>
        </div>
    </div>

    {% if blog.image %}
    <img src="{{ blog.image.url }}" alt="{{ blog.title }}" class="detail-banner">
    {% endif %}

    <div class="detail-content">
        {{ blog.content|linebreaks }}
    </div>

    <div style="text-align: center; margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border);">
        <h3>Enjoyed this article?</h3>
        <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Share it with your friends or read more from {{
            blog.author.username }}.</p>
        <a href="{% url 'home' %}" class="btn btn-outline">&larr; Back to Home</a>
    </div>
</article>
{% endblock %}